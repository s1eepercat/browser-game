{"version":3,"file":"bundle.js","mappings":"yLAAO,ICAKA,EDACC,EAAb,WAWI,c,4FAAc,S,UAXlB,O,EAAA,E,EAAA,0BAGI,WAKI,OAJKA,EAAWC,WACZD,EAAWC,SAAW,IAAID,GAGvBA,EAAWC,a,EAR1B,mBAaI,WACIC,SAASC,iBAAiB,UAAWC,KAAKC,SAC1CH,SAASC,iBAAiB,QAASC,KAAKE,SAfhD,qBAkBI,SAAgBC,GACZC,QAAQC,IAAIF,EAAOG,QAAS,UAnBpC,mBAsBI,SAAcH,GACVC,QAAQC,IAAIF,EAAOG,QAAS,W,2BAvBpC,M,SCAYX,GAAAA,EAAAA,QAAAA,UAAAA,EAAAA,YAAAA,UAAAA,EAAAA,UAAAA,U,CAAAA,IAAAA,EAAAA,K,sKCIL,IAAMY,EAAb,WAcI,c,4FAAc,S,UAdlB,O,EAAA,E,EAAA,mBAgBI,WACIP,KAAKQ,OAASV,SAASW,eAAe,UACtCT,KAAKU,IAAMV,KAAKQ,OAAOG,WAAW,MAElCX,KAAKQ,OAAOI,OCvBH,IDwBTZ,KAAKQ,OAAOK,MCvBJ,MDEhB,wBAwBI,SAAWC,GACPd,KAAKe,YAAYD,GACjBd,KAAKgB,WAAWF,GAChBd,KAAKiB,aAAaH,KA3B1B,yBA8BI,SAAoBA,GAChBd,KAAKU,IAAIQ,UAAYvB,EAAOwB,QAC5BnB,KAAKU,IAAIU,SAAS,EAAG,EAAGpB,KAAKQ,OAAOK,MAAOb,KAAKQ,OAAOI,QAEvDZ,KAAKU,IAAIQ,UAAYvB,EAAOwB,QAC5BnB,KAAKU,IAAIU,SAAS,EAAG,EAAGpB,KAAKQ,OAAOK,MAAOb,KAAKQ,OAAOI,UAnC/D,wBAsCI,SAAmBE,GACf,IAAMO,EAAOP,EAAMO,KAAK,GAClBC,EAAQtB,KAAKQ,OAAOK,MAAQC,EAAMS,SAClCC,EAAQxB,KAAKQ,OAAOI,OAASE,EAAMS,SAEzCvB,KAAKU,IAAIQ,UAAYvB,EAAO8B,UAC5BzB,KAAKU,IAAIU,SAASC,EAAKK,EAAIJ,EAAOD,EAAKM,EAAIH,EAAOF,EAAOE,KA5CjE,0BA+CI,SAAqBV,GACjB,IAAMc,EAASd,EAAMc,OACfN,EAAQtB,KAAKQ,OAAOK,MAAQC,EAAMS,SAClCC,EAAQxB,KAAKQ,OAAOI,OAASE,EAAMS,SAEzCvB,KAAKU,IAAIQ,UAAYvB,EAAOkC,YAC5B7B,KAAKU,IAAIU,SAASQ,EAAOE,IAAIJ,EAAIJ,EAAOM,EAAOE,IAAIH,EAAIH,EAAOF,EAAOE,M,EArD7E,0BAGI,WAKI,OAJKjB,EAASV,WACVU,EAASV,SAAW,IAAIU,GAGrBA,EAASV,Y,8BARxB,K,sKEFO,IAAMkC,EAAb,WAaI,c,4FAAc,S,UAblB,O,EAAA,E,EAAA,0BAGI,WAKI,OAJKA,EAAMlC,WACPkC,EAAMlC,SAAW,IAAIkC,GAGlBA,EAAMlC,a,EARrB,mBAiBI,WACIG,KAAKc,MAAQ,CACTc,OAAQ,CACJE,IAAK,CACDJ,EAAG,EACHC,EAAG,IAEPK,IAAK,CACDN,EAAG,EACHC,EAAG,IAGXN,KAAM,CACF,CACIK,EAAG,EACHC,EAAG,IAGXJ,SAAU,MAnCtB,sBAuCI,WACI,OAAOvB,KAAKc,W,2BAxCpB,KCMMmB,EAAW1B,EAAS2B,cACpBC,EAAavC,EAAWsC,cACxBpB,EAAQiB,EAAMG,cAEpBpB,EAAMsB,OACNH,EAASG,OACTD,EAAWC,OAEXH,EAASI,WAAWvB,EAAMwB,a","sources":["webpack://browser-game/./src/controller.ts","webpack://browser-game/./src/enums/colors.enum.ts","webpack://browser-game/./src/renderer.ts","webpack://browser-game/./src/consts/config.const.ts","webpack://browser-game/./src/state.ts","webpack://browser-game/./src/index.ts"],"sourcesContent":["export class Controller {\r\n    private static instance: typeof Controller.prototype;\r\n\r\n    public static getInstance(): typeof Controller.prototype {\r\n        if (!Controller.instance) {\r\n            Controller.instance = new Controller();\r\n        }\r\n\r\n        return Controller.instance;\r\n    }\r\n\r\n    constructor() { }\r\n\r\n    init(): void {\r\n        document.addEventListener('keydown', this.keyDown);\r\n        document.addEventListener('keyup', this.keyUp);\r\n    }\r\n\r\n    private keyDown($event: KeyboardEvent): void {\r\n        console.log($event.keyCode, 'down');\r\n    }\r\n\r\n    private keyUp($event: KeyboardEvent): void {\r\n        console.log($event.keyCode, 'up')\r\n    }\r\n}","export enum Colors {\r\n    BgColor = '#231f20',\r\n    PlayerColor = '#c2c2c2',\r\n    ItemColor = '#e66916'\r\n}","import { Colors } from \"./enums/colors.enum\";\r\nimport { Config } from \"./consts/config.const\";\r\nimport { GameStateDto } from \"./models/game-state-dto.model\";\r\n\r\nexport class Renderer {\r\n    private static instance: typeof Renderer.prototype;\r\n\r\n    public static getInstance(): typeof Renderer.prototype {\r\n        if (!Renderer.instance) {\r\n            Renderer.instance = new Renderer();\r\n        }\r\n\r\n        return Renderer.instance;\r\n    }\r\n\r\n    private canvas: HTMLCanvasElement;\r\n    private ctx: CanvasRenderingContext2D;\r\n\r\n    constructor() { }\r\n\r\n    init(): void {\r\n        this.canvas = document.getElementById('canvas') as HTMLCanvasElement;\r\n        this.ctx = this.canvas.getContext('2d');\r\n\r\n        this.canvas.height = Config.worldHeight;\r\n        this.canvas.width = Config.worldWidth;\r\n    }\r\n\r\n    renderGame(state: GameStateDto): void {\r\n        this.renderWorld(state);\r\n        this.renderFood(state);\r\n        this.renderPlayer(state);\r\n    }\r\n\r\n    private renderWorld(state: GameStateDto): void {\r\n        this.ctx.fillStyle = Colors.BgColor;\r\n        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n        this.ctx.fillStyle = Colors.BgColor;\r\n        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n    }\r\n\r\n    private renderFood(state: GameStateDto): void {\r\n        const food = state.food[0];\r\n        const sizeW = this.canvas.width / state.gridSize;\r\n        const sizeH = this.canvas.height / state.gridSize;\r\n\r\n        this.ctx.fillStyle = Colors.ItemColor;\r\n        this.ctx.fillRect(food.x * sizeW, food.y * sizeH, sizeW, sizeH);\r\n    }\r\n\r\n    private renderPlayer(state: GameStateDto): void {\r\n        const player = state.player;\r\n        const sizeW = this.canvas.width / state.gridSize;\r\n        const sizeH = this.canvas.height / state.gridSize;\r\n\r\n        this.ctx.fillStyle = Colors.PlayerColor;\r\n        this.ctx.fillRect(player.pos.x * sizeW, player.pos.y * sizeH, sizeW, sizeH);\r\n    }\r\n}\r\n","export const Config = {\r\n    worldHeight: 600,\r\n    worldWidth: 600\r\n}","import { GameStateDto } from \"./models/game-state-dto.model\";\r\n\r\nexport class State {\r\n    private static instance: typeof State.prototype;\r\n\r\n    public static getInstance(): typeof State.prototype {\r\n        if (!State.instance) {\r\n            State.instance = new State();\r\n        }\r\n\r\n        return State.instance;\r\n    }\r\n\r\n    private state: GameStateDto;\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    init(): void {\r\n        this.state = {\r\n            player: {\r\n                pos: {\r\n                    x: 5,\r\n                    y: 10,\r\n                },\r\n                vel: {\r\n                    x: 0,\r\n                    y: 0\r\n                }\r\n            },\r\n            food: [\r\n                {\r\n                    x: 7,\r\n                    y: 7\r\n                }\r\n            ],\r\n            gridSize: 20\r\n        }\r\n    }\r\n\r\n    getState(): GameStateDto {\r\n        return this.state;\r\n    }\r\n}","// import { Colors } from \"./enums/colors.enum\";\r\n// import { GameStateDto } from \"./models/game-state-dto.model\";\r\nimport { Controller } from \"./controller\";\r\nimport { Renderer } from \"./renderer\";\r\nimport { State } from \"./state\";\r\n\r\n// const gameScreen = document.getElementById('game-screen');\r\n\r\nconst renderer = Renderer.getInstance();\r\nconst controller = Controller.getInstance();\r\nconst state = State.getInstance();\r\n\r\nstate.init();\r\nrenderer.init();\r\ncontroller.init();\r\n\r\nrenderer.renderGame(state.getState());"],"names":["Colors","Controller","instance","document","addEventListener","this","keyDown","keyUp","$event","console","log","keyCode","Renderer","canvas","getElementById","ctx","getContext","height","width","state","renderWorld","renderFood","renderPlayer","fillStyle","BgColor","fillRect","food","sizeW","gridSize","sizeH","ItemColor","x","y","player","PlayerColor","pos","State","vel","renderer","getInstance","controller","init","renderGame","getState"],"sourceRoot":""}