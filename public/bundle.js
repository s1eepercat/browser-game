(()=>{"use strict";function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var n,t=function(){function n(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n)}var t,i,a;return t=n,i=[{key:"init",value:function(e){this.initMovement(e)}},{key:"initMovement",value:function(e){var n=0,t=0,i=0,a=0;document.addEventListener("keydown",(function(r){switch(r.key){case"a":n=-1;break;case"d":t=1;break;case"w":i=-1;break;case"s":a=1}e.emit("velocityChange",{x:n+t,y:i+a})})),document.addEventListener("keyup",(function(r){switch(r.key){case"a":n=0;break;case"d":t=0;break;case"w":i=0;break;case"s":a=0}e.emit("velocityChange",{x:n+t,y:i+a})}))}}],a=[{key:"getInstance",value:function(){return n.instance||(n.instance=new n),n.instance}}],i&&e(t.prototype,i),a&&e(t,a),n}();!function(e){e.BgColor="#231f20",e.PlayerColor="#c2c2c2",e.ItemColor="#e66916"}(n||(n={}));function i(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,r;return t=e,r=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}],(a=[{key:"init",value:function(){this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.height=600,this.canvas.width=600}},{key:"renderGame",value:function(e){this.renderWorld(e),this.renderFood(e),this.renderPlayer(e)}},{key:"renderWorld",value:function(e){this.ctx.fillStyle=n.BgColor,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}},{key:"renderFood",value:function(e){var t=e.food[0],i=this.canvas.width/e.gridSize,a=this.canvas.height/e.gridSize;this.ctx.fillStyle=n.ItemColor,this.ctx.fillRect(t.x*i,t.y*a,i,a)}},{key:"renderPlayer",value:function(e){var t=this,i=this.canvas.width/e.gridSize,a=this.canvas.height/e.gridSize;e.players.forEach((function(e){t.ctx.fillStyle=n.PlayerColor,t.ctx.fillRect(e.pos.x*i,e.pos.y*a,i,a)}))}}])&&i(t.prototype,a),r&&i(t,r),e}().getInstance(),r=t.getInstance(),c=io("/");c.on("nameRequest",(function(){c.emit("nameResponse","MyNickname")})),c.on("gameState",(function(e){var n=JSON.parse(e);console.log(n),requestAnimationFrame((function(){return a.renderGame(n)}))})),r.init(c),a.init()})();
//# sourceMappingURL=bundle.js.map