(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var t,n=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,i,a;return n=t,i=[{key:"init",value:function(e){var t=0,n=0,i=0,a=0;document.addEventListener("keydown",(function(r){switch(r.key){case"a":t=-1;break;case"d":n=1;break;case"w":i=-1;break;case"s":a=1}e.emit("input",{x:t+n,y:i+a})})),document.addEventListener("keyup",(function(r){switch(r.key){case"a":t=0;break;case"d":n=0;break;case"w":i=0;break;case"s":a=0}e.emit("input",{x:t+n,y:i+a})}))}}],a=[{key:"getInstance",value:function(){return t.instance||(t.instance=new t),t.instance}}],i&&e(n.prototype,i),a&&e(n,a),t}();!function(e){e.BgColor="#231f20",e.PlayerColor="#c2c2c2",e.ItemColor="#e66916"}(t||(t={}));function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,a,r;return n=e,r=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}],(a=[{key:"init",value:function(){this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.height=600,this.canvas.width=600}},{key:"renderGame",value:function(e){this.renderWorld(e),this.renderFood(e),this.renderPlayer(e)}},{key:"renderWorld",value:function(e){this.ctx.fillStyle=t.BgColor,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle=t.BgColor,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}},{key:"renderFood",value:function(e){var n=e.food[0],i=this.canvas.width/e.gridSize,a=this.canvas.height/e.gridSize;this.ctx.fillStyle=t.ItemColor,this.ctx.fillRect(n.x*i,n.y*a,i,a)}},{key:"renderPlayer",value:function(e){var n=this,i=this.canvas.width/e.gridSize,a=this.canvas.height/e.gridSize;e.players.forEach((function(e){n.ctx.fillStyle=t.PlayerColor,n.ctx.fillRect(e.pos.x*i,e.pos.y*a,i,a)}))}}])&&i(n.prototype,a),r&&i(n,r),e}().getInstance(),r=n.getInstance(),c=io("/");c.on("nameRequest",(function(){c.emit("nameResponse","MyNickname")})),c.on("gameState",(function(e){var t=JSON.parse(e);requestAnimationFrame((function(){return a.renderGame(t)}))})),r.init(c),a.init()})();
//# sourceMappingURL=bundle.js.map